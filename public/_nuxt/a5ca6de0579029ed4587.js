(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{606:function(t,e,o){var content=o(776);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(12).default)("25e30bb8",content,!0,{sourceMap:!1})},775:function(t,e,o){"use strict";var l=o(606);o.n(l).a},776:function(t,e,o){(t.exports=o(11)(!1)).push([t.i,".textarea{border:1px solid rgba(0,0,0,.125);outline:1px solid #461577}.quotationCsv{border:1px solid rgba(0,0,0,.3);padding:3px 0 3px 10px}.quote{width:100%;margin-top:10px;border-collapse:collapse}.quote--header{font-weight:500;text-align:left}.quote--header,.quote--td{border-bottom:1px solid rgba(0,0,0,.125)}.table-order{border:1px solid rgba(0,0,0,.125);padding:5px 10px;margin-top:5px;margin-bottom:5px}",""])},978:function(t,e,o){"use strict";o.r(e);o(35),o(39),o(15);var l=o(2),n=o(529);l.default.filter("formatMoney",(function(t){return n(t).format("0,0.00")}));var r={name:"addQuotation",created:function(){this.fetchBiller(),this.fetchSupplier(),this.fetchMember(),this.fetchLocation(),this.fetchProduct()},data:function(){return{form:{items:[]},locations:[],suppliers:[],billers:[],members:[],products:[],status:["Pending","Sent"],itemsPerPage:5}},computed:{calculateQty:function(){return this.form.items.reduce((function(t,e){return t+Number(e.quantity)}),0)},calculateTotal:function(){return this.form.items.reduce((function(t,e){return t+(e.unit_price-e.unit_price*e.discount/100)*e.quantity}),0)}},methods:{discountedPrice:function(t){return(t.unit_price-t.unit_price*t.discount/100)*t.quantity},fetchLocation:function(){var t=this;this.$axios.$get("api/location").then((function(e){t.locations=e.locations.data,console.log(e)})).catch((function(t){console.log(t.response)}))},fetchSupplier:function(){var t=this;this.$axios.$get("api/supplier").then((function(e){t.suppliers=e.suppliers.data,console.log(e)})).catch((function(t){console.log(t.response)}))},fetchBiller:function(){var t=this;this.$axios.$get("api/biller").then((function(e){t.billers=e.billers.data,console.log(e)})).catch((function(t){console.log(t.response)}))},fetchMember:function(){var t=this;this.$axios.$get("api/member").then((function(e){t.members=e.members.data,console.log(e)})).catch((function(t){console.log(t.response)}))},fetchProduct:function(){var t=this;this.$axios.$get("api/product").then((function(e){t.products=e.products.data,console.log(e)})).catch((function(t){console.log(t.response)}))},createQuotation:function(){var t=this;this.$axios.$post("api/quotation",this.form).then((function(e){t.$set(t.$data,"quotations",e.data),t.$router.push("/quotation/quotations"),t.$toast.success("Added Quotation Successfully"),console.log(e)})).catch((function(e){console.log(e.response),t.$toast.error("Pleases fill required field")}))},addTocart:function(t){this.form.items.includes(t)?alert("already there"):(this.form.items.push(t),console.log(t)),l.default.set(t,"quantity",1),l.default.set(t,"discount",0)},removeItem:function(t){this.form.items.splice(t,1)},uploadFile:function(t){var data=new FormData;data.append("file",t.target.files[0]);this.$axios.$post("http://127.0.0.1:3000/product/add_adjustment",data,{header:{"content-Type":"image/*, application/pdf"}}).then((function(t){console.log(t)}))}}},c=(o(775),o(31)),d=o(102),m=o.n(d),f=o(380),v=o(538),_=o(167),h=o(147),x=o(393),y=o(372),C=o(934),w=o(143),$=o(396),P=o(537),k=o(384),S=o(369),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-card",{staticClass:"mx-5 my-5"},[o("div",{staticClass:"py-3 px-5 green darken-2"},[o("h3",{staticClass:"white--text"},[t._v("\n\t\t\t\tAdd Quotation\n\t\t\t")])]),t._v(" "),o("v-divider"),t._v(" "),o("div",{staticClass:"px-5"},[o("p",{staticClass:"caption font-italic pt-5"},[t._v("The field labels marked with * are required input fields.")]),t._v(" "),o("v-row",[o("v-col",{attrs:{md:"4",cols:"12"}},[o("label",{staticClass:"font-weight-bold",attrs:{for:"name"}},[t._v("Biller*")]),t._v(" "),o("v-autocomplete",{attrs:{"item-value":"name","item-text":"name",dense:"",solo:"",outlined:"","return-object":"",items:t.billers,label:"Please type, select..."},model:{value:t.form.biller,callback:function(e){t.$set(t.form,"biller",e)},expression:"form.biller"}})],1),t._v(" "),o("v-col",{attrs:{md:"4",cols:"12"}},[o("label",{staticClass:"font-weight-bold",attrs:{for:"name"}},[t._v("Supplier*")]),t._v(" "),o("v-autocomplete",{attrs:{"item-value":"name","item-text":"name",dense:"",solo:"",outlined:"","return-object":"",items:t.suppliers,label:"Please type, select..."},model:{value:t.form.supplier,callback:function(e){t.$set(t.form,"supplier",e)},expression:"form.supplier"}})],1),t._v(" "),o("v-col",{attrs:{md:"4",cols:"12"}},[o("label",{staticClass:"font-weight-bold",attrs:{for:"name"}},[t._v("Customer*")]),t._v(" "),o("v-autocomplete",{attrs:{"item-value":"name","item-text":"name",dense:"",solo:"",outlined:"","return-object":"",items:t.members,label:"Please type, select..."},model:{value:t.form.member,callback:function(e){t.$set(t.form,"member",e)},expression:"form.member"}})],1),t._v(" "),o("v-col",{attrs:{md:"4",cols:"12"}},[o("label",{staticClass:"font-weight-bold",attrs:{for:"address"}},[t._v("Warehouse*")]),t._v(" "),o("v-autocomplete",{attrs:{"item-value":"address","item-text":"address",dense:"",solo:"",outlined:"","return-object":"",items:t.locations,label:"Please type, select..."},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}})],1),t._v(" "),o("v-col",{attrs:{md:"4",cols:"12"}},[o("label",{staticClass:"font-weight-bold",attrs:{for:""}},[t._v("Shipping Cost*")]),t._v(" "),o("v-text-field",{attrs:{solo:"",outlined:"",dense:"",type:"number",placeholder:"0.00"},model:{value:t.form.shipping_cost,callback:function(e){t.$set(t.form,"shipping_cost",e)},expression:"form.shipping_cost"}})],1),t._v(" "),o("v-col",{attrs:{md:"4",cols:"12"}},[o("label",{staticClass:"font-weight-bold",attrs:{for:""}},[t._v("Status*")]),t._v(" "),o("v-select",{attrs:{solo:"",outlined:"",dense:"",label:"Pending",items:t.status},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),t._v(" "),o("v-col",{attrs:{cols:"12"}},[o("label",{staticClass:"font-weight-bold"},[t._v("Select Product")]),t._v(" "),o("v-autocomplete",{attrs:{solo:"",outlined:"",dense:"",label:"Please type product code and select",items:t.products,"item-text":"name","item-value":"name","return-object":""},on:{input:t.addTocart}})],1)],1),t._v(" "),o("div",[o("label",{staticClass:"font-weight-bold mb-3"},[t._v("Order Table")]),t._v(" "),o("table",{staticClass:"quote"},[o("thead",[o("tr",{staticClass:"quote--header"},[o("td",[t._v("Name")]),t._v(" "),o("td",[t._v("Code")]),t._v(" "),o("td",[t._v("Quantity")]),t._v(" "),o("td",[t._v("Unit Price")]),t._v(" "),o("td",[t._v("Discount")]),t._v(" "),o("td",[t._v("SubTotal")]),t._v(" "),o("td",[t._v("Actions")])])]),t._v(" "),o("tbody",[t._l(t.form.items,(function(e,l){return o("tr",{key:l,staticClass:"quote--td"},[o("td",[t._v(t._s(e.name))]),t._v(" "),o("td",[t._v(t._s(e.code))]),t._v(" "),o("td",[o("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.items[l].quantity,expression:"form.items[index].quantity"}],staticClass:"table-order",attrs:{type:"number",name:"form.items[index].quantity",placeholder:"0.00"},domProps:{value:t.form.items[l].quantity},on:{input:function(e){e.target.composing||t.$set(t.form.items[l],"quantity",e.target.value)}}}),t._v(" "),o("span",[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.items[l].unit_price,expression:"form.items[index].unit_price"}],staticClass:"table-order",attrs:{type:"number",placeholder:"0.00"},domProps:{value:t.form.items[l].unit_price},on:{input:function(e){e.target.composing||t.$set(t.form.items[l],"unit_price",e.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.items[l].discount,expression:"form.items[index].discount"}],staticClass:"table-order",attrs:{type:"number",name:"form.items[index].discount",placeholder:"0.00"},domProps:{value:t.form.items[l].discount},on:{input:function(e){e.target.composing||t.$set(t.form.items[l],"discount",e.target.value)}}})]),t._v(" "),o("td",[t._v("USD "+t._s(t._f("formatMoney")(t.discountedPrice(e))))]),t._v(" "),o("td",[o("v-btn",{attrs:{small:"",color:"red",outlined:""},on:{click:function(e){return t.removeItem(l)}}},[o("v-icon",[t._v("mdi-delete")])],1)],1)])})),t._v(" "),o("tr",[o("td",{staticClass:"py-3",attrs:{colspan:"2"}},[t._v("Total")]),t._v(" "),o("td",{attrs:{colspan:"3"}},[t._v(t._s(t.calculateQty))]),t._v(" "),o("td",[t._v("USD "+t._s(t._f("formatMoney")(t.calculateTotal)))])])],2)])]),t._v(" "),o("v-row",[o("v-col",{staticClass:"d-flex flex-column",attrs:{cols:"12"}},[o("label",{staticClass:"font-weight-bold pt-4",attrs:{for:""}},[t._v("Attach Document")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-file-input",{attrs:{label:"File input",outlined:"",dense:"","small-chips":"",multiple:"","show-size":"",counter:"",type:"file"}})],1)],1),t._v(" "),o("div",{staticClass:"d-flex flex-column mb-5"},[o("label",{staticClass:"font-weight-bold ",attrs:{for:""}},[t._v("Note")]),t._v(" "),o("textarea",{staticClass:"textarea",attrs:{cols:"30",rows:"5"}})]),t._v(" "),o("v-btn",{staticClass:"green darken-2 mb-5 white--text",attrs:{dark:""},on:{click:function(e){return e.preventDefault(),t.createQuotation(e)}}},[o("v-icon",[t._v("mdi-check")]),t._v("\n\t\t\t\tSubmit\n\t\t\t")],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VApp:f.a,VAutocomplete:v.a,VBtn:_.a,VCard:h.a,VCol:x.a,VDivider:y.a,VFileInput:C.a,VIcon:w.a,VRow:$.a,VSelect:P.a,VSpacer:k.a,VTextField:S.a})}}]);