(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{1089:function(t,o,e){"use strict";e.r(o);var n=e(654).a,r=(e(871),e(31)),l=e(102),c=e.n(l),d=e(380),v=e(538),m=e(167),f=e(147),_=e(66),h=e(393),x=e(385),y=e(372),C=e(143),w=e(396),P=e(537),k=e(384),$=e(369),component=Object(r.a)(n,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-app",[e("v-row",[e("v-col",{attrs:{cols:"12",md:"7"}},[e("v-card",{staticClass:"px-5 pb-5"},[e("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(o){t.dialog=o},expression:"dialog"}},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[t._v("Discount")]),t._v(" "),e("v-divider"),t._v(" "),e("div",{staticClass:"discount"},[e("label",[t._v("Discount Percent:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.discount,expression:"form.discount"}],staticClass:"discount-input",attrs:{type:"number",placeholder:"0"},domProps:{value:t.form.discount},on:{input:function(o){o.target.composing||t.$set(t.form,"discount",o.target.value)}}})]),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:function(o){t.dialog=!1}}},[t._v("Save")]),t._v(" "),e("v-spacer")],1)],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.customers,dense:"",solo:"",outlined:"","item-text":"name","item-value":"name",label:"Select Customer","return-object":""},model:{value:t.form.member,callback:function(o){t.$set(t.form,"member",o)},expression:"form.member"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"pos-product"},[e("table",{staticClass:"tablePOS"},[e("thead",[e("tr",{staticClass:"tablePOS--tr"},[e("v-row",[e("v-col",{attrs:{cols:"2"}},[e("th",[t._v("Product")])]),t._v(" "),e("v-col",{attrs:{cols:"2"}},[e("th",[t._v("Quantity")])]),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("th",[t._v("Price")])]),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("th",[t._v("SubTotal")])]),t._v(" "),e("v-col",{attrs:{cols:"2"}},[e("th",[t._v("Action")])])],1)],1)]),t._v(" "),e("tbody",t._l(t.form.items,(function(o,n){return e("tr",{key:n,staticClass:"tablePOS--td"},[e("v-row",[e("v-col",{attrs:{cols:"2"}},[e("td",[t._v(t._s(o.name))])]),t._v(" "),e("v-col",{attrs:{cols:"2"}},[e("td",[e("span",[e("v-btn",{attrs:{small:"",color:"red",outlined:"",icon:""},on:{click:function(e){return t.minusItem(o)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-minus")])],1)],1),t._v(" "),e("span",{staticClass:"px-1"},[t._v(t._s(t.form.items[n].quantity))]),t._v(" "),e("span",[e("v-btn",{attrs:{small:"",color:"primary",outlined:"",icon:""},on:{click:function(e){return t.plusItem(o)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)],1)])]),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.items[n].unit_price,expression:"form.items[index].unit_price"}],staticClass:"tablePOS--input",attrs:{type:"number"},domProps:{value:t.form.items[n].unit_price},on:{input:function(o){o.target.composing||t.$set(t.form.items[n],"unit_price",o.target.value)}}})])]),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("td",[t._v("$ "+t._s(t._f("formatMoney")(t.subTotal(o))))])]),t._v(" "),e("v-col",{attrs:{cols:"2"}},[e("v-btn",{attrs:{outlined:"",color:"red",small:""},on:{click:function(o){return t.removeProduct(n)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1)],1)],1)})),0)])])]),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("table",{staticClass:"pos-footer"},[e("tr",[e("v-row",[e("v-col",{attrs:{md:"3",cols:"12"}},[e("td",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"pos-footer--item"},[t._v("Item:")]),t._v(" "),e("span",[t._v(t._s(t.Qty))])])]),t._v(" "),e("v-col",{attrs:{md:"3",cols:"12"}},[e("td",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"pos-footer--item"},[t._v("Shipping Cost:")])])]),t._v(" "),e("v-col",{attrs:{md:"3",cols:"12"}},[e("td",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"pos-footer--item"},[t._v("Discount:")]),t._v(" "),e("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t$ "+t._s(t.discount)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),e("v-btn",{staticClass:"mx-3",attrs:{small:"",outlined:"",color:"primary"},on:{click:t.addDiscount}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)],1)])]),t._v(" "),e("v-col",{attrs:{md:"3",cols:"12"}},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"pos-footer--item"},[t._v("Total:")]),t._v(" "),e("span",[t._v("USD "+t._s(t._f("formatMoney")(t.totalPrice-t.discount)))])])])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("span",{staticClass:"pos-footer--item"},[t._v("Total Payable:")]),t._v("\n\t\t\t\t\t\t\t\t\t\t\tUSD "+t._s(t._f("formatMoney")(t.totalPrice))+"\n\t\t\t\t\t\t\t\t\t\t")])],1)],1)]),t._v(" "),e("div",{staticClass:"posPayment"},[e("ValidationObserver",{ref:"dialog"},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-dialog",{attrs:{"max-width":"900"},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[e("button",t._g({staticClass:"posPayment-cash",on:{click:t.openDialog}},n),[e("v-icon",{attrs:{dark:""}},[t._v("mdi-check")]),t._v("Payment\n\t\t\t\t\t\t\t\t\t\t\t\t\t")],1)]}}]),model:{value:t.dialog2,callback:function(o){t.dialog2=o},expression:"dialog2"}},[t._v(" "),e("v-card",[e("v-card-title",{staticClass:"headline green darken-1 white--text"},[t._v("Payment")]),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"9"}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("label",{staticClass:"font-weight-bold",attrs:{for:"biller"}},[t._v("Biller")]),t._v(" "),e("v-autocomplete",{attrs:{"item-text":"name","item-value":"name",solo:"",dense:"","return-object":"",outlined:"",items:t.biller,label:"Select Biller"}})],1),t._v(" "),e("v-col",{staticClass:"d-flex flex-column",attrs:{cols:"6"}},[e("label",{staticClass:"font-weight-bold"},[t._v("Amount")]),t._v(" "),e("validation-provider",{attrs:{name:"Amount",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.errors;return[e("v-text-field",{attrs:{solo:"",outlined:"",dense:"",type:"number",value:t.totalPrice},model:{value:t.form.paid,callback:function(o){t.$set(t.form,"paid",o)},expression:"form.paid"}}),t._v(" "),e("span",{staticClass:"red--text"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("label",{staticClass:"font-weight-bold"},[t._v("Payment Method")]),t._v(" "),e("validation-provider",{attrs:{name:"Payment Method",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var n=o.errors;return[e("v-select",{attrs:{items:t.payment_method,solo:"",outlined:"",dense:""},model:{value:t.form.payment_method,callback:function(o){t.$set(t.form,"payment_method",o)},expression:"form.payment_method"}}),t._v(" "),e("span",{staticClass:"red--text"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),e("v-col",{staticClass:"d-flex flex-column",attrs:{cols:"12"}},[e("label",{staticClass:"font-weight-bold"},[t._v("Payment Note")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"payment-description",attrs:{cols:"30",rows:"5"},domProps:{value:t.form.description},on:{input:function(o){o.target.composing||t.$set(t.form,"description",o.target.value)}}})]),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("button",{staticClass:"btn-row"},[t._v("Add Payment Row")])])],1)],1),t._v(" "),e("v-col",{attrs:{cols:"3"}},[e("v-card",[e("div",{staticClass:"card"},[e("span",{staticClass:"card--name"},[t._v("Total Item")]),t._v(" "),e("span",{staticClass:"card--item"},[t._v(t._s(t.Qty))])]),t._v(" "),e("div",{staticClass:"card"},[e("span",{staticClass:"card--name"},[t._v("Total Payable")]),t._v(" "),e("span",{staticClass:"card--item"},[t._v("$ "+t._s(t._f("formatMoney")(t.totalPrice)))])])])],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(o){t.dialog2=!1}}},[t._v("Cancel")]),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.addPayment}},[t._v("Add Payment")])],1)],1)],1)],1)],1)],1)],1)])],1)],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",md:"5"}},[e("v-card",[e("v-row",[e("v-col",{staticClass:"px-5",attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.products,dense:"",solo:"",outlined:"","item-text":"name","item-value":"name",label:"Search Product","return-object":""},on:{input:t.addToCart},model:{value:t.form.products,callback:function(o){t.$set(t.form,"products",o)},expression:"form.products"}})],1)],1),t._v(" "),e("v-row",{staticClass:"px-5"},t._l(t.products,(function(o,n){return e("v-col",{key:n,attrs:{cols:"3"}},[e("v-card",{staticClass:"posCard",on:{click:function(e){return t.addPos(o)}}},[e("div",[e("img",{staticClass:"posCard--pos-img",attrs:{src:t.baseURL+"image/"+o.image}})]),t._v(" "),e("div",{staticClass:"posCard--title"},[e("span",[t._v(t._s(o.name))])])])],1)})),1)],1)],1)],1),t._v(" "),e("div",[e("notifications",{staticClass:"notification",attrs:{group:"all"}}),t._v(" "),e("notifications",{staticClass:"notification",attrs:{group:"addedSale"}})],1)],1)}),[],!1,null,null,null);o.default=component.exports;c()(component,{VApp:d.a,VAutocomplete:v.a,VBtn:m.a,VCard:f.a,VCardActions:_.a,VCardText:_.b,VCardTitle:_.c,VCol:h.a,VDialog:x.a,VDivider:y.a,VIcon:C.a,VRow:w.a,VSelect:P.a,VSpacer:k.a,VTextField:$.a})},654:function(t,o,e){"use strict";(function(t){e(35),e(39),e(15);var n=e(4),r=e(2),l=e(529);r.default.filter("formatMoney",(function(t){return l(t).format("0,0.00")})),o.a={layout:"pos",name:"PosShop",created:function(){this.fetchProduct(),this.fetchCustomer(),this.fetchBiller()},data:function(){var o;return o={customers:[],dialog:!1,dialog2:!1,form:{discount:10,items:[]},products:[]},Object(n.a)(o,"dialog",!1),Object(n.a)(o,"biller",[]),Object(n.a)(o,"payment_method",["Cash","Credit Card"]),Object(n.a)(o,"baseURL",t.env.APP_URL),o},computed:{Qty:function(){return this.form.items.reduce((function(t,o){return t+Number(o.quantity)}),0)},discount:function(){var t=this;return this.form.items.reduce((function(o,e){return e.unit_price*e.quantity*t.form.discount/100}),0)},totalPrice:function(){return this.form.items.reduce((function(t,o){return t+o.unit_price*o.quantity}),0)}},methods:{addPayment:function(){var t=this;this.$axios.post("api/sale",this.form).then((function(o){t.dialog2=!1,console.log(o),t.$notify({group:"addedSale",text:"Sale created successfully!!!",type:"success"})})).catch((function(o){console.log(o.response),t.$refs.dialog.validate(o.response.data.errors)}))},openDialog:function(){0===this.form.items.length&&this.$notify({group:"all",text:"There is no Product in Cart!!!",type:"warning"}),this.dialog2=!1},fetchBiller:function(){var t=this;this.$axios.$get("api/biller").then((function(o){r.default.set(t.$data,"biller",o.billers.data),console.log(o)})).catch((function(t){console.log(t.response)}))},fetchProduct:function(){var t=this;this.$axios.$get("api/product").then((function(o){t.$set(t.$data,"products",o.products.data),console.log(o)})).catch((function(t){console.log(t.response)}))},fetchCustomer:function(){var t=this;this.$axios.$get("api/member").then((function(o){t.$set(t.$data,"customers",o.members.data),console.log(o)})).catch((function(t){console.log(t.response)}))},addDiscount:function(){this.dialog=!0},addPos:function(t){this.form.items.includes(t)?r.default.set(t,"quantity",t.quantity+=1):(this.form.items.push(t),r.default.set(t,"quantity",1),r.default.set(t,"unit_price",t.price))},addToCart:function(t){this.form.items.includes(t)?r.default.set(t,"quantity",t.quantity+=1):(this.form.items.push(t),r.default.set(t,"quantity",1),r.default.set(t,"unit_price",t.price))},removeProduct:function(t){this.form.items.splice(t,1)},plusItem:function(t){this.form.items.includes(t)&&r.default.set(t,"quantity",t.quantity+=1),console.log(t)},minusItem:function(t){r.default.set(t,"quantity",t.quantity-=1)},subTotal:function(t){return t.unit_price*t.quantity}}}}).call(this,e(164))},655:function(t,o,e){var content=e(872);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(12).default)("4d1d7c4a",content,!0,{sourceMap:!1})},871:function(t,o,e){"use strict";var n=e(655);e.n(n).a},872:function(t,o,e){(t.exports=e(11)(!1)).push([t.i,".tablePOS{border-collapse:collapse;width:100%;text-align:left}.tablePOS--tr{font-weight:400;border-bottom:1px solid rgba(0,0,0,.125)}.tablePOS--input{border:1px solid rgba(0,0,0,.125);width:100%;padding-left:10px}.posCard{border:#000;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%}.posCard--pos-img{height:auto;-o-object-fit:inherit;object-fit:inherit;display:block;margin-left:auto;margin-right:auto;overflow:hidden}.posCard--title{text-align:center;background:#efefef;padding-top:5px;padding-bottom:5px}.posCard:hover{outline:1px solid #535561}.pos-product{min-height:40vh;max-height:40vh;overflow-y:auto;overflow-x:hidden}.pos-footer{padding:10px;width:100%;border-bottom:1px solid rgba(0,0,0,.125)}.pos-footer--item{font-weight:600}.discount{padding:10px 20px}.discount-input{width:100%;border:1px solid #30b4a3;outline:none;padding:5px 10px}.posPayment-cash{padding:20px 50px;background:#008d4c;color:#fff}.posPayment-cash:hover{background:#449d44}.notification{margin:20px 10px;opacity:.8}.notification .notification-content{padding:10px 5px;font-size:15px}.notification.warn{border-radius:5px;background:#dba91f;border-left-color:#f48a06}.notification:hover{opacity:1}.payment-description{border:1px solid rgba(0,0,0,.125);outline:none}.btn-row{padding:10px;background:#2b81d6;color:#fff}.card{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding:10px 20px 20px}.card--item,.card--name{padding-bottom:10px}.card--item{border-bottom:1px solid rgba(0,0,0,.125);font-size:18px}",""])}}]);