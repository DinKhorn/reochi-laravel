(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{1026:function(t,e,o){"use strict";o.r(e);o(35),o(39),o(15);var r=o(2),n=o(529);r.default.filter("formatNumber",(function(t){return n(t).format("0,0.00")}));var l={name:"AddTransfer",created:function(){this.fetchData(),this.fetchProduct(),this.fetchLocation()},data:function(){return{orders:[],locations:[],form:{products:[]},items:[],products:[],headers:[{text:"Name",sortable:!1},{text:"Code",sortable:!1},{text:"Quantity",sortable:!1},{text:"Net Unit Cost",sortable:!1},,{text:"Tax",sortable:!1},{text:"SubTotal",sortable:!1},{text:"Action",sortable:!1}],status:["Completed","Pending","Sent"]}},computed:{totalQty:function(){return this.form.products.reduce((function(t,e){return t+Number(e.quantity)}),0)},grandTotal:function(){return this.form.products.reduce((function(t,e){return t+e.quantity*e.price}),0)}},methods:{fetchLocation:function(){var t=this;this.$axios.$get("api/location").then((function(e){t.locations=e.locations.data,console.log(e)})).catch((function(t){console.log(t)}))},fetchProduct:function(){var t=this;this.$axios.$get("api/product").then((function(e){t.products=e.products.data,console.log(e)})).catch((function(t){console.log(t.response)}))},fetchData:function(){var t=this;this.$axios.$get("api/transfer").then((function(e){t.items=e.transfer.data,console.log(e.transfer)})).catch((function(t){console.log(t.response)}))},createTransfer:function(){var t=this;this.$axios.post("api/transfer",this.form).then((function(e){t.items=e.data,t.$router.push("/transfer/transfers"),console.log(e)})).catch((function(t){console.log(t.response)}))},addTocart:function(t){this.form.products.includes(t)?r.default.set(t,"quantity",1):this.form.products.push(t),r.default.set(t,"quantity",1)},removeItem:function(t){this.form.products.splice(t,1)}}},c=(o(820),o(31)),d=o(102),v=o.n(d),f=o(380),m=o(538),_=o(167),h=o(147),x=o(66),C=o(393),y=o(372),w=o(143),k=o(396),$=o(537),S=o(369),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-card",{staticClass:"mx-5 my-5"},[o("div",{staticClass:"blue ligthen-2"},[o("v-card-title",{staticClass:"white--text px-5"},[t._v("\n\t\t\t\tAdd Transfer\n\t\t\t")])],1),t._v(" "),o("v-divider"),t._v(" "),o("div",{staticClass:"px-5"},[o("p",{staticClass:"caption font-italic pt-5"},[t._v("The field labels marked with * are required input fields.")]),t._v(" "),o("v-row",[o("v-col",{attrs:{md:"6",cols:"12"}},[o("label",{staticClass:"font-weight-bold"},[t._v("Reference No *")]),t._v(" "),o("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-text-field",{attrs:{outlined:"",solo:"",dense:"",label:"Reference no..."},model:{value:t.form.reference_no,callback:function(e){t.$set(t.form,"reference_no",e)},expression:"form.reference_no"}}),t._v(" "),o("span",{staticClass:"red--text"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("v-col",{attrs:{md:"6",cols:"12"}},[o("label",[t._v("Location(From)*")]),t._v(" "),o("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-autocomplete",{attrs:{items:t.locations,solo:"",outlined:"",dense:"","item-text":"name","item-value":"name"},model:{value:t.form.from_location,callback:function(e){t.$set(t.form,"from_location",e)},expression:"form.from_location"}}),t._v(" "),o("span",{staticClass:"transfer--text"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("v-col",{attrs:{md:"6",cols:"12"}},[o("label",[t._v("Location(To)*")]),t._v(" "),o("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-autocomplete",{attrs:{items:t.locations,solo:"",outlined:"",dense:"","item-text":"name","item-value":"name"},model:{value:t.form.to_location,callback:function(e){t.$set(t.form,"to_location",e)},expression:"form.to_location"}}),t._v(" "),o("span",{staticClass:"transfer--text"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("v-col",{attrs:{md:"6",cols:"12"}},[o("label",[t._v("Status")]),t._v(" "),o("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-select",{attrs:{dense:"",outlined:"",solo:"",items:t.status},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),t._v(" "),o("span",{staticClass:"transfer--text"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("v-col",{attrs:{md:"6",cols:"12"}},[o("label",{attrs:{for:""}},[t._v("Shipping Cost")]),t._v(" "),o("validation-provider",{attrs:{rules:"required",name:"Shipping Cost"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-text-field",{attrs:{solo:"",outlined:"",dense:""},model:{value:t.form.shipping_charge,callback:function(e){t.$set(t.form,"shipping_charge",e)},expression:"form.shipping_charge"}}),t._v(" "),o("span",{staticClass:"transfer--text"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("v-col",{attrs:{cols:"12"}},[o("label",[t._v("Select Product")]),t._v(" "),o("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-autocomplete",{attrs:{items:t.products,dense:"",solo:"","item-text":"name","item-value":"name","return-object":""},on:{input:t.addTocart}}),t._v(" "),o("span",{staticClass:"transfer--text"},[t._v(t._s(r[0]))])]}}])})],1)],1),t._v(" "),o("div",[o("table",{staticClass:"tablePurchase"},[o("thead",[o("tr",{staticClass:"tablePurchase--header"},[o("td",[t._v("Name")]),t._v(" "),o("td",[t._v("Code")]),t._v(" "),o("td",[t._v("Quantity")]),t._v(" "),o("td",[t._v("Unit Price")]),t._v(" "),o("td",[t._v("Total")]),t._v(" "),o("td",[t._v("Actions")])])]),t._v(" "),o("tbody",[t._l(t.form.products,(function(e,r){return o("tr",{key:r,staticClass:"transfer--add"},[o("td",[t._v(t._s(e.name))]),t._v(" "),o("td",[t._v(t._s(e.code))]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],staticClass:"table-qty",attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(o){o.target.composing||t.$set(e,"quantity",o.target.value)}}})]),t._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],staticClass:"table-qty",attrs:{type:"number"},domProps:{value:e.price},on:{input:function(o){o.target.composing||t.$set(e,"price",o.target.value)}}})]),t._v(" "),o("td",[t._v("USD "+t._s(t._f("formatNumber")(e.quantity*e.price)))]),t._v(" "),o("td",[o("v-btn",{attrs:{icon:"",color:"red",outlined:""},on:{click:function(e){return t.removeItem(r)}}},[o("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1)])})),t._v(" "),o("tr",[o("td",{staticClass:"py-3",attrs:{colspan:"2"}},[t._v("Total")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.totalQty))]),t._v(" "),o("td",[t._v("USD "+t._s(t._f("formatNumber")(t.grandTotal)))])])],2)])])],1),t._v(" "),o("div",{staticClass:"d-flex px-5 flex-column mb-5"},[o("label",{attrs:{for:""}},[t._v("Note")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"textarea",attrs:{cols:"30",rows:"7"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),t._v(" "),o("v-btn",{directives:[{name:"permission",rawName:"v-permission",value:"add transfer",expression:"'add transfer'"}],staticClass:"blue mx-5 mb-5 darken-2",attrs:{dark:""},on:{click:t.createTransfer}},[o("v-icon",[t._v("mdi-check")]),t._v("\n\t\t\tSubmit\n\t\t")],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{VApp:f.a,VAutocomplete:m.a,VBtn:_.a,VCard:h.a,VCardTitle:x.c,VCol:C.a,VDivider:y.a,VIcon:w.a,VRow:k.a,VSelect:$.a,VTextField:S.a})},628:function(t,e,o){var content=o(821);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(12).default)("67a35085",content,!0,{sourceMap:!1})},820:function(t,e,o){"use strict";var r=o(628);o.n(r).a},821:function(t,e,o){(t.exports=o(11)(!1)).push([t.i,".textarea{border:1px solid rgba(0,0,0,.125);outline:1px solid #60e688}.quotationCsv{padding:3px 0 3px 10px;border:1px solid #60e688}.transfer--input{border:1px solid #60e688;width:100%;padding:5px 10px;outline:none;border-radius:3px}.transfer--text{color:red}.tablePurchase{width:100%;margin-top:10px;border-collapse:collapse}.tablePurchase--header{font-weight:500;text-align:left}.tablePurchase--header,.tablePurchase--td{border-bottom:1px solid rgba(0,0,0,.125)}.table-qty{border:1px solid rgba(0,0,0,.125);padding:5px;margin-top:5px;outline:none}.transfer--add{width:100%;border-collapse:collapse}.v-select .dropdown-toggle .clear{display:none}",""])}}]);